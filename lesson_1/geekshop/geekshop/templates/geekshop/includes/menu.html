<ul class="menu">
    <li><a href="{% url 'main' %}" class="{% if request.resolver_match.view_name == 'main' %}
    active {% endif %}">домой</a></li>
    <li><a href="{% url 'products:main' %}"
           class="{% if request.resolver_match.view_name == 'products:main' %} active {% endif %}">продукты</a></li>
    <li><a href="{% url 'contacts' %}" class="{% if request.resolver_match.view_name == 'contacts' %}
    active {% endif %}">контакты</a></li>

    <li class=" dropdown-toggle" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" ><a>
        {{ user.first_name|default:'Пользователь' }} </a>
    </li>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1" style="display: flex;flex-direction: column;align-items: baseline;">

        {% if user.is_authenticated %}
        <li>
            <a href="{% url 'auth:edit' %}" class="dropdown-item">
                Профиль
            </a>
        </li>
            {% if user.is_superuser %}
            <li><a href="{% url 'admin_staff:users' %}"
                   class="dropdown-item {% if request.resolver_match.view_name == 'basket:view' %}
                active {% endif %}">Admin</a></li>
            {% endif %}
            {% if basket %}
            <li><a href="{% url 'basket:view' %}"
                   class="dropdown-item {% if request.resolver_match.view_name == 'basket:view' %}
                active {% endif %}">Корзина</a></li>
            {% endif %}
        {% endif %}
        <li>
            {% if user.is_authenticated %}
                <a href="{% url 'auth:logout' %}">выйти</a>
            {% else %}
                <a href="{% url 'auth:login' %}">войти</a>
            {% endif %}
        </li>

    </ul>



    {% if basket.0 %}
        <li>
        <span>
            {{ basket.0.total_cost|floatformat:0 }} руб.
            {{ basket.0.total_quantity }} шт.
        </span>
        </li>

    {% endif %}

</ul>